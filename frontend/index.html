<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReviewExplorer</title>
    <link rel="stylesheet" href="style.css?v=101">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://maps.api.2gis.ru/2.0/loader.js?pkg=full&key=00ee5242-967e-48ff-a29d-bd001609c61f"></script>
</head>

<body>
    <div class="wrapper">
        <header class="main-header">
            <div class="logo">ReviewExplorer</div>
            <nav>
                <ul>
                    <li><a href="#" class="active">Поиск</a></li>
                    <li><a href="https://github.com/REKVID">GitHub</a></li>
                </ul>
            </nav>
        </header>

        <main class="content">
            <div class="hero-section">
                <h1>Анализ мнений</h1>
                <p>Платформа для мониторинга объектов.</p>
            </div>
            <div id="map"
                style="width: 100%; height: 400px; border-radius: 28px; margin-bottom: 2rem; border: 1px solid #e5e7eb; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.05); overflow: hidden;">
            </div>

            <div class="search-wrapper">
                <div class="search-container">
                    <input type="text" id="school-search" placeholder="Введите название..." autocomplete="off">
                    <button id="search-btn">Анализировать</button>
                </div>
                <div id="suggestions" class="suggestions-list hidden"></div>
            </div>

            <div id="analytics-view" class="hidden">
                <div class="card">
                    <h2 id="school-title" style="color:var(--primary)">Школа</h2>
                    <p id="status-msg" style="color:var(--sec); font-size:0.9rem; margin:10px 0"></p>
                    <div id="analytics-text" style="border-top:1px solid #eee; padding-top:1rem"></div>
                </div>

                <div id="analytics-charts" style="margin-top:20px">
                    <div class="chart-container">
                        <p class="chart-desc">АНАЛИЗ СИЛЬНЫХ СТОРОН<br><small>Упоминания в позитивном контексте</small>
                        </p>
                        <canvas id="chart-0"></canvas>
                    </div>
                    <div class="chart-container">
                        <p class="chart-desc">КРИТИЧЕСКИЕ ЗОНЫ<br><small>Основные жалобы и проблемы</small></p>
                        <canvas id="chart-1"></canvas>
                    </div>
                    <div class="chart-container">
                        <p class="chart-desc">АРГУМЕНТИРОВАННОСТЬ МНЕНИЙ<br><small>Средний объем отзыва в словах</small>
                        </p>
                        <canvas id="chart-2"></canvas>
                    </div>
                    <div class="chart-container">
                        <p class="chart-desc">ДИНАМИКА КАЧЕСТВА<br><small>Индекс удовлетворенности по годам</small></p>
                        <canvas id="chart-3"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="review-overlay" class="hidden"
        style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:1000; display:flex; align-items:center; justify-content:center; padding:20px">
        <div
            style="background:rgb(255, 255, 255); width:100%; max-width:600px; max-height:80vh; border-radius:24px; padding:30px; overflow-y:auto; position:relative">
            <button onclick="document.getElementById('review-overlay').classList.add('hidden')"
                style="position:absolute; top:15px; right:15px; background:none; border:none; font-size:1.5rem; cursor:pointer; color:#6b7280">&times;</button>
            <h3 id="overlay-title" style="margin-bottom:20px; color:#111827">Отзывы</h3>
            <div id="overlay-content" style="font-size:0.95rem; color:#2e353f"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js?v=101"></script>
</body>

</html>